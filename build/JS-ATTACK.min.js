/*! JS-ATTACK 2014-11-25 */
function alert(a){console.log(a)}function runCode(){var a=editor.getSession().getValue()+"\n";try{evalWorker.postMessage(a)}catch(b){console.log("algo paso :S")}}function log(a){console.log(a),result.innerHTML+=a+"<br>",result.scrollTop=result.scrollHeight}function validate(a){console.log("validate",a);var b='<span style="color:'+("a"===a?"green":"red")+'">'+("a"===a)+"</span>";log('se esperaba una "a" y llego una "'+a+'" = '+b)}function setupWorker(){var a=new Worker("eval.js");return a.onmessage=function(a){"result"==a.data.type&&validate(a.data.content),"error"==a.data.type&&handleError(a.data.content),"log"==a.data.type&&log(a.data.content)},a.onerror=function(a){handleError(a.message+"\n")},a}function handleError(){console.log("handle error")}onmessage=function(oEvent){try{var result=eval(oEvent.data);postMessage({type:"result",content:result})}catch(e){postMessage(e.lineNumber?{type:"error",content:e.message+" on line "+(e.lineNumber-2)}:{type:"error",content:e.message})}};var console={log:function(a){"string"!=typeof a&&"number"!=typeof a&&(a=JSON.stringify(a)),postMessage({type:"log",content:a})}},evalWorker,result=document.getElementById("result"),editor=ace.edit("editor");editor.setTheme("ace/theme/twilight"),editor.getSession().setMode("ace/mode/javascript"),editor.getSession().setTabSize(4),editor.getSession().setUseSoftTabs(!0),editor.setShowPrintMargin(!1),editor.setFontSize("3vmin"),editor.commands.addCommand({name:"run",bindKey:{win:"Ctrl-Enter",mac:"Command-Enter"},exec:function(){runCode()},readOnly:!0}),$("document").ready(function(){window.Worker?evalWorker=setupWorker():console.log("fail"),$(document).keypress(function(a){return 13==a.which&&(a.ctrlKey||a.metaKey)?(a.preventDefault(),runCode(),!1):!0})});